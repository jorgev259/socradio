{"version":3,"sources":["Socket.js","js/Slider.jsx","js/Marquee.jsx","Widget.jsx","Player.jsx","App.js","index.js","css/marquee.module.scss","css/player.module.scss","css/widget.module.scss"],"names":["socket","initiateSocket","io","path","console","log","disconnectSocket","disconnect","subscribeToStation","station","cb","on","useStyles","makeStyles","root","color","display","flexDirection","ContinuousSlider","props","classes","className","Slider","min","max","step","value","onChange","handleChange","aria-labelledby","Marquee","useState","boxWidth","setBoxWidth","textWidth","setTextWidth","boxRef","useRef","textRef","reset","setReset","transRef","overflowed","handleResize","current","scrollWidth","clientWidth","useEffect","text","window","addEventListener","duration","length","ref","classnames","styles","calc","marquee","active","onTransitionEnd","style","transitionDuration","transform","Player","audio","setAudio","playing","setPlay","loading","setLoading","useCallback","node","onplay","onpause","onloadstart","waiting","onloadeddata","canplay","useAudioRef","audioRef","useAxios","location","hostname","data","volume","setVolumeState","album","title","artist","song","setSong","src","load","play","msg","Container","player","preload","id","background","effect","onError","ev","target","alt","Row","content","icon","Col","xs","height","fontSize","stations","Object","keys","filter","s","map","stationName","i","arr","disabled","href","base","md","onClick","pause","playpause","htmlFor","tabIndex","routes","App","routeResult","useRoutes","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.866ae4af.chunk.js","sourcesContent":["import io from 'socket.io-client'\nlet socket\n\nexport const initiateSocket = () => {\n  socket = io(`https://www.squid-radio.net`, { path: '/api/socket.io' })\n  console.log('Connecting socket...')\n}\n\nexport const disconnectSocket = () => {\n  console.log('Disconnecting socket...')\n  if (socket) socket.disconnect()\n}\n\nexport const subscribeToStation = (station, cb) => {\n  socket.on(station, cb)\n}\n\n/* export const sendMessage = (room, message) => {\n  if (socket) socket.emit('chat', { message, room })\n} */\n","import { makeStyles } from '@material-ui/core/styles'\nimport Slider from '@material-ui/core/Slider'\nimport VolumeDown from '@material-ui/icons/VolumeDown'\nimport VolumeUp from '@material-ui/icons/VolumeUp'\n\nconst useStyles = makeStyles({\n  root: {\n    color: 'white',\n    display: 'flex',\n    flexDirection: 'row'\n  }\n})\n\nexport default function ContinuousSlider (props) {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      <VolumeDown className='mx-3' />\n      <Slider min={0} max={1} step={0.01} value={props.value} onChange={props.handleChange} aria-labelledby='continuous-slider' />\n      <VolumeUp className='mx-3' />\n    </div>\n  )\n}\n","import { useState, Fragment, useRef, useEffect } from 'react'\nimport classnames from 'classnames'\nimport styles from '../css/marquee.module.scss'\n\nexport default function Marquee (props) {\n  const [boxWidth, setBoxWidth] = useState(0)\n  const [textWidth, setTextWidth] = useState(0)\n  const boxRef = useRef(null)\n  const textRef = useRef(null)\n\n  const [reset, setReset] = useState(false)\n  const transRef = useRef(null)\n\n  const overflowed = textWidth > boxWidth\n  function handleResize () {\n    setTextWidth(textRef.current.scrollWidth)\n    setBoxWidth(boxRef.current.clientWidth)\n  }\n\n  useEffect(() => {\n    if (props.text && boxRef.current && textRef.current) window.addEventListener('resize', handleResize)\n  }, [props.text, boxRef.current, textRef.current])\n\n  useEffect(() => { if (reset) setReset(false) }, [reset])\n\n  const duration = props.text.length * 3 / 12\n\n  return (\n    <>\n      <div ref={boxRef} className={classnames(styles.calc)}><span ref={textRef}>{props.text} - </span></div>\n      <div\n        ref={transRef} className={classnames(styles.marquee, { [styles.active]: overflowed })}\n        onTransitionEnd={() => setReset(!reset)} style={{\n          transitionDuration: `${reset ? 0 : duration}s`,\n          transform: `translate(-${reset || !overflowed ? 0 : textWidth}px)`\n        }}\n      >\n        {overflowed ? `${props.text} - ${props.text} - ${props.text}` : props.text}\n      </div>\n    </>\n  )\n}\n","import { useState, useEffect, useCallback, Fragment } from 'react'\nimport { Container, Row, Col } from 'reactstrap'\nimport classnames from 'classnames'\nimport useAxios from 'axios-hooks'\nimport { initiateSocket, disconnectSocket, subscribeToStation } from './Socket'\nimport Slider from './js/Slider'\nimport Marquee from './js/Marquee'\nimport { A } from 'hookrouter'\n\nimport styles from './css/widget.module.scss'\n\nfunction useAudioRef () {\n  const [audio, setAudio] = useState(null)\n  const [playing, setPlay] = useState(false)\n  const [loading, setLoading] = useState(true)\n\n  const ref = useCallback(node => {\n    if (node !== null) {\n      node.onplay = () => setPlay(true)\n      node.onpause = () => setPlay(false)\n\n      node.onloadstart = () => setLoading(true)\n      node.waiting = () => setLoading(true)\n\n      node.onloadeddata = () => setLoading(false)\n      node.canplay = () => setLoading(false)\n      node.playing = () => setLoading(false)\n\n      setAudio(node)\n    }\n  }, [])\n\n  return { audio, ref, playing, loading }\n}\n\nexport default function Player (props) {\n  const { audio, ref: audioRef, playing } = useAudioRef()\n  const [{ data }] = useAxios(`https://${window.location.hostname}/api/meta`)\n  const [volume, setVolumeState] = useState(0.5)\n  const [song, setSong] = useState({\n    album: 'The Best Videogame Music 24/7',\n    title: '',\n    artist: ''\n  })\n\n  useEffect(() => {\n    if (audio) {\n      audio.src = `https://play.squid-radio.net/${props.station}`\n      audio.load()\n      audio.play()\n    }\n    initiateSocket()\n    subscribeToStation(props.station, msg => setSong(msg))\n\n    return () => {\n      disconnectSocket()\n    }\n    // eslint-disable-next-line\n  }, [props.station])\n\n  function defaultBackground (ev) {\n    ev.target.src = `/images/logo/soc_${props.station}.png`\n  }\n\n  function setPlay () {\n    if (playing) audio.pause()\n    else {\n      audio.load()\n      audio.play()\n    }\n  }\n\n  function setVolume (ev, value) {\n    audio.volume = value\n    setVolumeState(value)\n  }\n\n  return (\n    <Container className={classnames(styles.player, 'text-center px-2 px-md-0 h-100 d-flex align-items-center justify-content-center flex-column')}>\n      <audio ref={audioRef} preload='none' id='erplayer-audio' src={`https://play.squid-radio.net/${props.station}`} volume={volume} />\n      <div className={styles.background}>\n        <div className={styles.effect} />\n        <img src={`https://${window.location.hostname}/covers/${song.album}.jpg`} onError={defaultBackground} alt='' />\n      </div>\n\n      <Row className={classnames(styles.content, 'justify-content-center my-1 w-100')}>\n        {props.icon && (\n          <Col xs='auto'>\n            <div className={styles.station}>\n              <img src={`/images/station/station_${props.station}.png`} alt='' />\n            </div>\n          </Col>\n        )}\n      </Row>\n      <Row className={classnames(styles.content, 'justify-content-center w-100')}>\n        <Col xs='auto'>\n          <Row style={{ height: `${3 / 5 * 100}%`, fontSize: '24px' }}>\n            <Col className={styles.data}>\n              <Marquee text={`${song.artist} - ${song.title}`} />\n            </Col>\n          </Row>\n          <Row style={{ height: `${2 / 5 * 100}%`, fontSize: '16px' }}>\n            <Col className={styles.data}>\n              <Marquee text={song.album} />\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n\n      <Row className='my-1'>\n        <Col>\n          <span className={styles.stations}>\n            {data &&\n          Object.keys(data).filter(s => s !== 'undefined').map((stationName, i, arr) => (\n            <Fragment key={stationName}>\n              {stationName === props.station\n                ? <span className={styles.current}>{stationName}</span>\n                : <A disabled href={`${props.base}/${stationName}`}>{stationName}</A>}\n              {arr.length - 1 !== i && ' - '}\n            </Fragment>\n          ))}\n          </span>\n        </Col>\n      </Row>\n\n      <Row className='mt-1 w-100 justify-content-center'>\n        <Col xs={12} md={4}>\n          <Row className='justify-content-center'>\n            <Col md={12}>\n              <Slider handleChange={setVolume} value={volume} />\n            </Col>\n            <Col xs='auto' className='mt-3'>\n              <div onClick={setPlay} className={classnames(styles.playpause, { [styles.playing]: playing })}>\n                <label htmlFor={styles.playpause} tabIndex={1} />\n              </div>\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n    </Container>\n  )\n}\n","import { useState, useEffect, useCallback, Fragment } from 'react'\nimport { Container, Row, Col } from 'reactstrap'\nimport classnames from 'classnames'\nimport useAxios from 'axios-hooks'\nimport { initiateSocket, disconnectSocket, subscribeToStation } from './Socket'\nimport Slider from './js/Slider'\nimport Marquee from './js/Marquee'\nimport { A } from 'hookrouter'\n\nimport styles from './css/player.module.scss'\n\nfunction useAudioRef () {\n  const [audio, setAudio] = useState(null)\n  const [playing, setPlay] = useState(false)\n  const [loading, setLoading] = useState(true)\n\n  const ref = useCallback(node => {\n    if (node !== null) {\n      node.onplay = () => setPlay(true)\n      node.onpause = () => setPlay(false)\n\n      node.onloadstart = () => setLoading(true)\n      node.waiting = () => setLoading(true)\n\n      node.onloadeddata = () => setLoading(false)\n      node.canplay = () => setLoading(false)\n      node.playing = () => setLoading(false)\n\n      setAudio(node)\n    }\n  }, [])\n\n  return { audio, ref, playing, loading }\n}\n\nexport default function Player (props) {\n  const { audio, ref: audioRef, playing } = useAudioRef()\n  const [{ data }] = useAxios(`https://www.squid-radio.net/api/meta`)\n  const [volume, setVolumeState] = useState(0.5)\n  const [song, setSong] = useState({\n    album: 'The Best Videogame Music 24/7',\n    title: '',\n    artist: ''\n  })\n\n  useEffect(() => {\n    if (audio) {\n      audio.src = `https://play.squid-radio.net/${props.station}`\n      audio.load()\n      audio.play()\n    }\n    initiateSocket()\n    subscribeToStation(props.station, msg => setSong(msg))\n\n    return () => {\n      disconnectSocket()\n    }\n    // eslint-disable-next-line\n  }, [props.station])\n\n  function defaultBackground (ev) {\n    ev.target.src = `/images/logo/soc_${props.station}.png`\n  }\n\n  function setPlay () {\n    if (playing) audio.pause()\n    else {\n      audio.load()\n      audio.play()\n    }\n  }\n\n  function setVolume (ev, value) {\n    audio.volume = value\n    setVolumeState(value)\n  }\n\n  return (\n    <Container className={classnames(styles.player, 'text-center px-2 px-md-0 h-100 d-flex align-items-center justify-content-center flex-column')}>\n      <audio ref={audioRef} preload='none' id='erplayer-audio' src={`https://play.squid-radio.net/${props.station}`} volume={volume} />\n      <div className={styles.background}>\n        <div className={styles.effect} />\n        <img src={`https://www.squid-radio.net/covers/${song.album}.jpg`} onError={defaultBackground} alt='' />\n      </div>\n\n      <Row className={classnames(styles.content, 'justify-content-center my-2 w-100')}>\n        <Col xs='auto'>\n          <div className={styles.station}>\n            <img src={`/images/station/station_${props.station}.png`} alt='' />\n          </div>\n        </Col>\n      </Row>\n      <Row className={classnames(styles.content, 'justify-content-center w-100')}>\n        <Col xs='auto'>\n          <Row style={{ height: `${2 / 5 * 100}%`, fontSize: '45px' }}>\n            <Col className={styles.data}>\n              <Marquee text={song.artist} />\n            </Col>\n          </Row>\n          <Row style={{ height: `${2 / 5 * 100}%`, fontSize: '45px' }}>\n            <Col className={styles.data}>\n              <Marquee text={song.title} />\n            </Col>\n          </Row>\n          <Row style={{ height: `${1 / 5 * 100}%`, fontSize: '25px' }}>\n            <Col className={styles.data}>\n              <Marquee text={song.album} />\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n\n      <Row className='my-4'>\n        <Col>\n          <span className={styles.stations}>Available stations: <br className='d-block d-md-none' />\n            {data &&\n          Object.keys(data).filter(s => s !== 'undefined').map((stationName, i, arr) => (\n            <Fragment key={stationName}>\n              {stationName === props.station\n                ? <span className={styles.current}>{stationName}</span>\n                : <A disabled href={`/${stationName}`}>{stationName}</A>}\n              {arr.length - 1 !== i && ' - '}\n            </Fragment>\n          ))}\n          </span>\n        </Col>\n      </Row>\n\n      <Row className='mt-4 w-100 justify-content-center'>\n        <Col xs={12} md={4}>\n          <Row className='justify-content-center'>\n            <Col md={12}>\n              <Slider handleChange={setVolume} value={volume} />\n            </Col>\n            <Col xs='auto' className='mt-3'>\n              <div onClick={setPlay} className={classnames(styles.playpause, { [styles.playing]: playing })}>\n                <label htmlFor={styles.playpause} tabIndex={1} />\n              </div>\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n    </Container>\n  )\n}\n","import { useRoutes } from 'hookrouter'\nimport Widget from './Widget'\nimport Player from './Player'\nimport { AudioPlayerProvider } from 'react-use-audio-player'\n\nimport './css/global.css'\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nconst routes = {\n  '/board': () => <Widget station='clouds' icon={false} base='/board' />,\n  '/board/:station': ({ station }) => <Widget station={station} icon={false} base='/board' />,\n  '/widget': () => <Widget station='clouds' icon base='/widget' />,\n  '/widget/:station': ({ station }) => <Widget station={station} icon base='/widget' />,\n\n  '/': () => <Player station='clouds' />,\n  '/:station': ({ station }) => <Player station={station} />\n}\n\nconst App = () => {\n  const routeResult = useRoutes(routes)\n  return <AudioPlayerProvider>{routeResult}</AudioPlayerProvider> || (\n    <script>{(\n      window.location.href = '/404.html'\n    )}\n    </script>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"marquee\":\"marquee_marquee__1MS_n\",\"calc\":\"marquee_calc__Tmz0p\",\"active\":\"marquee_active__fKjlF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"player\":\"player_player__3tV8g\",\"current\":\"player_current__mOoWV\",\"stations\":\"player_stations__1tZXQ\",\"background\":\"player_background__2a6F5\",\"effect\":\"player_effect__3GAgQ\",\"station\":\"player_station__z1nJz\",\"content\":\"player_content__2HaZS\",\"data\":\"player_data__2_vJs\",\"playpause\":\"player_playpause__3uP9O\",\"playing\":\"player_playing__N2IaC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"player\":\"widget_player__1r28i\",\"current\":\"widget_current__1zF5V\",\"stations\":\"widget_stations__3kOEF\",\"background\":\"widget_background__1yy9P\",\"effect\":\"widget_effect__2nXGx\",\"station\":\"widget_station__2iPJJ\",\"content\":\"widget_content__3Gh7b\",\"data\":\"widget_data__vI8h8\",\"playpause\":\"widget_playpause__1b3Zg\",\"playing\":\"widget_playing__20bZ1\"};"],"sourceRoot":""}